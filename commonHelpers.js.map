{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor((ms % hour) / minute);\n  const seconds = Math.floor((ms % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// Функція для додавання лідируючого нуля до числа, якщо воно менше 10\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\n\n// Отримання елементів DOM\nconst dateTimePicker = document.getElementById('datetime-picker');\nconst startButton = document.getElementById('start-button');\nconst daysDisplay = document.getElementById('days');\nconst hoursDisplay = document.getElementById('hours');\nconst minutesDisplay = document.getElementById('minutes');\nconst secondsDisplay = document.getElementById('seconds');\n\nlet countdownInterval; // Змінна для зберігання інтервалу зворотного відліку\n\n// Налаштування flatpickr\nflatpickr(dateTimePicker, {\n  enableTime: true,\n  dateFormat: 'Y-m-d H:i',\n  minDate: 'today',\n  minuteIncrement: 1,\n  onClose: selectedDates => {\n    const selectedDate = selectedDates[0];\n    const currentDate = new Date();\n\n    if (selectedDate <= currentDate) {\n      // Дата у минулому\n      iziToast.error({\n        title: '',\n        message: 'Please choose a date in the future',\n      });\n      startButton.disabled = true;\n    } else {\n      // Дата у майбутньому\n      startButton.disabled = false;\n    }\n  },\n});\n\n// Обробник натискання кнопки \"Start\"\nstartButton.addEventListener('click', () => {\n  const selectedDate = flatpickr.parseDate(dateTimePicker.value, 'Y-m-d H:i');\n  const currentDate = new Date();\n  const difference = selectedDate.getTime() - currentDate.getTime();\n\n  // Відлік часу\n  countdownInterval = setInterval(() => {\n    const difference = selectedDate.getTime() - new Date().getTime();\n\n    if (difference <= 0) {\n      clearInterval(countdownInterval);\n      daysDisplay.textContent = '00';\n      hoursDisplay.textContent = '00';\n      minutesDisplay.textContent = '00';\n      secondsDisplay.textContent = '00';\n      startButton.disabled = true;\n      flatpickr(dateTimePicker).set('enable', true);\n      return;\n    }\n\n    const timeLeft = convertMs(difference);\n    daysDisplay.textContent = addLeadingZero(timeLeft.days);\n    hoursDisplay.textContent = addLeadingZero(timeLeft.hours);\n    minutesDisplay.textContent = addLeadingZero(timeLeft.minutes);\n    secondsDisplay.textContent = addLeadingZero(timeLeft.seconds);\n  }, 1000);\n\n  // Відключення вибору дати після початку таймера\n  flatpickr(dateTimePicker).set('enable', false);\n  startButton.disabled = true;\n});\n\n// мій варіант\n// import flatpickr from 'flatpickr';\n// import 'flatpickr/dist/flatpickr.min.css';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// // function flatpickr(selector, options) {}\n// const options = {\n//   enableTime: true,\n//   time_24hr: true,\n//   defaultDate: new Date(),\n//   minuteIncrement: 1,\n//   onClose(selectedDates) {\n//     console.log(selectedDates[0]);\n//   },\n// };\n\n// let userSelectedDate = document.querySelector('#datetime-picker');\n// userSelectedDate.addEventListener('click', event => {\n//   flatpickr(userSelectedDate, calender);\n// });\n\n// iziToast.show({\n//   title: '',\n//   message: 'Please choose a date in the future',\n// });\n// const calender = {\n//   mode: 'multiple',\n//   dateFormat: 'Y-m-d',\n//   enableTime: true,\n//   minTime: '00:00',\n//   maxTime: '23:59',\n// };\n\n// // const currentDate = new Date();\n// // if (userSelectedDate <= currentDate) {\n// //   window.alert('Please choose a date in the future');\n// // } else {\n// // }\n\n// function convertMs(ms) {\n//   // Number of milliseconds per unit of time\n//   const second = 1000;\n//   const minute = second * 60;\n//   const hour = minute * 60;\n//   const day = hour * 24;\n\n//   // Remaining days\n//   const days = Math.floor(ms / day);\n//   // Remaining hours\n//   const hours = Math.floor((ms % day) / hour);\n//   // Remaining minutes\n//   const minutes = Math.floor(((ms % day) % hour) / minute);\n//   // Remaining seconds\n//   const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n//   return { days, hours, minutes, seconds };\n// }\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n// function addLeadingZero(value) {\n//   convertMs.padStart();\n// }\n"],"names":["convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","dateTimePicker","startButton","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","countdownInterval","flatpickr","selectedDates","iziToast","selectedDate","currentDate","difference","timeLeft"],"mappings":"2FAKA,SAASA,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAOH,EAAK,KAAQ,GAAM,EACzCI,EAAU,KAAK,MAAOJ,EAAK,IAAU,GAAM,EAEjD,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,CAAK,GAAKA,CACpC,CAGA,MAAMC,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAc,SAAS,eAAe,MAAM,EAC5CC,EAAe,SAAS,eAAe,OAAO,EAC9CC,EAAiB,SAAS,eAAe,SAAS,EAClDC,EAAiB,SAAS,eAAe,SAAS,EAExD,IAAIC,EAGJC,EAAUP,EAAgB,CACxB,WAAY,GACZ,WAAY,YACZ,QAAS,QACT,gBAAiB,EACjB,QAASQ,GAAiB,CACHA,EAAc,CAAC,GAChB,IAAI,MAItBC,EAAS,MAAM,CACb,MAAO,GACP,QAAS,oCACjB,CAAO,EACDR,EAAY,SAAW,IAGvBA,EAAY,SAAW,EAE1B,CACH,CAAC,EAGDA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAMS,EAAeH,EAAU,UAAUP,EAAe,MAAO,WAAW,EACpEW,EAAc,IAAI,KACLD,EAAa,QAAO,EAAKC,EAAY,QAAU,EAGlEL,EAAoB,YAAY,IAAM,CACpC,MAAMM,EAAaF,EAAa,QAAO,EAAK,IAAI,KAAI,EAAG,UAEvD,GAAIE,GAAc,EAAG,CACnB,cAAcN,CAAiB,EAC/BJ,EAAY,YAAc,KAC1BC,EAAa,YAAc,KAC3BC,EAAe,YAAc,KAC7BC,EAAe,YAAc,KAC7BJ,EAAY,SAAW,GACvBM,EAAUP,CAAc,EAAE,IAAI,SAAU,EAAI,EAC5C,MACD,CAED,MAAMa,EAAWrB,EAAUoB,CAAU,EACrCV,EAAY,YAAcJ,EAAee,EAAS,IAAI,EACtDV,EAAa,YAAcL,EAAee,EAAS,KAAK,EACxDT,EAAe,YAAcN,EAAee,EAAS,OAAO,EAC5DR,EAAe,YAAcP,EAAee,EAAS,OAAO,CAC7D,EAAE,GAAI,EAGPN,EAAUP,CAAc,EAAE,IAAI,SAAU,EAAK,EAC7CC,EAAY,SAAW,EACzB,CAAC"}